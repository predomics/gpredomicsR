% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/gpredomics_caret.R
\name{caret-integration
Gpredomics Summary Function for Caret}
\alias{caret-integration
Gpredomics Summary Function for Caret}
\alias{gpredomicsSummary}
\title{Caret Integration for gpredomicsR}
\usage{
gpredomicsSummary(data, lev = NULL, model = NULL)
}
\arguments{
\item{data}{Data.frame with observed classes (obs) and predicted classes (pred)}

\item{lev}{Character vector of class levels}

\item{model}{Model type (currently unused)}
}
\value{
Named vector of performance metrics
}
\description{
This module provides integration with the caret package, enabling
grid search and random search hyperparameter tuning for gpredomics models.

Custom summary function that computes Gpredomics classification metrics:
Sensitivity, Specificity, Accuracy, MCC, NPV, PPV, F1-score, G-mean.

Use this with trainControl(summaryFunction = gpredomicsSummary) to get
comprehensive metrics during hyperparameter tuning.
}
\details{
The integration allows users to leverage caret's train() function with
gpredomics algorithms (GA, BEAM, MCMC). Both grid search and random search
are supported for hyperparameter optimization.

There are two ways to use gpredomics with caret:
\enumerate{
\item Using train_gpredomics_caret() - Convenience wrapper that handles everything
\item Using caret::train() with method = getModelInfo_gpredomics()
}
}
\section{Available Parameters}{

The default tuning grid includes only commonly tuned parameters (population_size,
max_epochs, ga_kmin, ga_kmax, beam_kmin, beam_kmax, language, data_type). However,
you can add \strong{any parameter} supported by gpredomics to your custom grid!

Use \code{gpredomics_params_info()} to discover all 50+ available parameters organized by category:
\itemize{
\item General: population_size, max_epochs, language, data_type, algo, fit
\item GA: ga_kmin, ga_kmax, select_elite_pct, mutated_children_pct, forced_diversity_pct
\item BEAM: beam_kmin, beam_kmax, best_models_criterion, max_nb_of_models, method
\item Penalties: k_penalty, fr_penalty, bias_penalty, threshold_ci_penalty
\item GA-specific: select_elite_pct, mutated_children_pct, forced_diversity_pct
\item BEAM-specific: best_models_criterion, max_nb_of_models
\item MCMC-specific: n_iter, n_burn, lambda
\item Cross-validation: inner_folds, overfit_penalty, outer_folds
\item Voting: fbm_ci_alpha, min_perf, min_diversity
\item Data processing: feature_minimal_prevalence_pct, feature_selection_method
}

Example:
\code{
# Discover all parameters
all_params <- gpredomics_params_info()

# Create custom grid with any parameters
custom_grid <- expand.grid(
  population_size = 5000,
  max_epochs = 100,
  ga_kmin = 1,
  ga_kmax = 200,
  beam_kmin = 1,
  beam_kmax = 200,
  language = "bin",
  data_type = "raw",
  algo = "ga",                      # Choose algorithm (ga, beam, mcmc)
  fit = c("auc", "mcc"),            # Add fitness metric
  k_penalty = c(0, 0.0001),         # Add complexity penalty
  select_elite_pct = c(2, 5),       # Add GA parameter
  feature_selection_method = "wilcoxon"  # Add data parameter
)
}
}

\section{Rust Object Access Patterns}{

This module correctly interfaces with Rust objects from lib.rs:
\itemize{
\item Experiment: Use methods get_best_population(), get_population(generation)
\item Population: Use method get_individual(index) with 1-based R indexing
\item Population: Use method get_first_pct(pct) to get top percentage subset
\item Individual: Use methods get(), get_metrics(), predict(data)
\item Individual$predict() returns list with $class and $score components
\item All internal attributes (threshold, auc, etc.) accessed via methods, not directly
}
}

\section{Prediction Strategy}{

During cross-validation and final predictions, gpredomics uses the \strong{best individual}
from the final population. This ensures:
\itemize{
\item Consistent evaluation across all CV folds
\item Direct comparison with other caret models
\item Optimal performance based on the chosen fitness metric
}

The best individual is selected based on the \code{fit} parameter specified in your
gpredomics configuration (e.g., AUC, MCC, sensitivity, etc.).
}

\examples{
\dontrun{
ctrl <- trainControl(
  method = "cv",
  number = 5,
  summaryFunction = gpredomicsSummary
)

model <- train_gpredomics_caret(
  outcome ~ .,
  data = mydata,
  trControl = ctrl,
  metric = "MCC"  # Can optimize on any metric
)
}
}
\author{
gpredomicsR Team
}
